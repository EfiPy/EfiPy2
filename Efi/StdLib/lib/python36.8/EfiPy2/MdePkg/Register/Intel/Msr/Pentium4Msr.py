# Pentium4Msr.py
#
# EfiPy2.MdePkg.Register.Intel.Msr.Pentium4Msr
#   part of EfiPy2
#
# Copyright (C) 2023 MaxWu efipy.core@gmail.com
#   GPL-2.0
#
from EfiPy2 import *

def IS_PENTIUM_4_PROCESSOR(DisplayFamily, DisplayModel):
   return DisplayFamily == 0x0F

MSR_PENTIUM_4_IA32_MONITOR_FILTER_LINE_SIZE  = 0x00000006

MSR_PENTIUM_4_EBC_HARD_POWERON  = 0x0000002A

class MSR_PENTIUM_4_EBC_HARD_POWERON_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("OutputTriStateEnabled",       UINT32, 1),
    ("ExecuteBIST",                 UINT32, 1),
    ("InOrderQueueDepth",           UINT32, 1),
    ("MCERR_ObservationDisabled",   UINT32, 1),
    ("BINIT_ObservationEnabled",    UINT32, 1),
    ("APICClusterID",               UINT32, 2),
    ("BusParkDisable",              UINT32, 1),
    ("Reserved1",                   UINT32, 4),
    ("AgentID",                     UINT32, 2),
    ("Reserved2",                   UINT32, 18),
    ("Reserved3",                   UINT32, 32)
  ]

class MSR_PENTIUM_4_EBC_HARD_POWERON_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_EBC_HARD_POWERON_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_EBC_SOFT_POWERON  = 0x0000002B

class MSR_PENTIUM_4_EBC_SOFT_POWERON_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("RCNT_SCNT",                           UINT32, 1),
    ("DataErrorCheckingDisable",            UINT32, 1),
    ("ResponseErrorCheckingDisable",        UINT32, 1),
    ("AddressRequestErrorCheckingDisable",  UINT32, 1),
    ("InitiatorMCERR_Disable",              UINT32, 1),
    ("InternalMCERR_Disable",               UINT32, 1),
    ("BINIT_DriverDisable",                 UINT32, 1),
    ("Reserved1",                           UINT32, 25),
    ("Reserved2",                           UINT32, 32)
  ]

class MSR_PENTIUM_4_EBC_SOFT_POWERON_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_EBC_SOFT_POWERON_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_EBC_FREQUENCY_ID  = 0x0000002C

class MSR_PENTIUM_4_EBC_FREQUENCY_ID_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("Reserved1",           UINT32, 16),
    ("ScalableBusSpeed",    UINT32, 3),
    ("Reserved2",           UINT32, 5),
    ("ClockRatio",          UINT32, 8),
    ("Reserved3",           UINT32, 32)
  ]

class MSR_PENTIUM_4_EBC_FREQUENCY_ID_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_EBC_FREQUENCY_ID_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_EBC_FREQUENCY_ID_1  = 0x0000002C

class MSR_PENTIUM_4_EBC_FREQUENCY_ID_1_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("Reserved1",           UINT32, 21),
    ("ScalableBusSpeed",    UINT32, 3),
    ("Reserved2",           UINT32, 8),
    ("Reserved3",           UINT32, 32)
  ]

class MSR_PENTIUM_4_EBC_FREQUENCY_ID_1_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_EBC_FREQUENCY_ID_1_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_MCG_RAX       = 0x00000180
MSR_PENTIUM_4_MCG_RBX       = 0x00000181
MSR_PENTIUM_4_MCG_RCX       = 0x00000182
MSR_PENTIUM_4_MCG_RDX       = 0x00000183
MSR_PENTIUM_4_MCG_RSI       = 0x00000184
MSR_PENTIUM_4_MCG_RDI       = 0x00000185
MSR_PENTIUM_4_MCG_RBP       = 0x00000186
MSR_PENTIUM_4_MCG_RSP       = 0x00000187
MSR_PENTIUM_4_MCG_RFLAGS    = 0x00000188
MSR_PENTIUM_4_MCG_RIP       = 0x00000189
MSR_PENTIUM_4_MCG_MISC      = 0x0000018A

class MSR_PENTIUM_4_MCG_MISC_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("DS",          UINT32, 1),
    ("Reserved1",   UINT32, 31),
    ("Reserved2",   UINT32, 32)
  ]

class MSR_PENTIUM_4_MCG_MISC_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_MCG_MISC_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_MCG_R8            = 0x00000190
MSR_PENTIUM_4_MCG_R9            = 0x00000191
MSR_PENTIUM_4_MCG_R10           = 0x00000192
MSR_PENTIUM_4_MCG_R11           = 0x00000193
MSR_PENTIUM_4_MCG_R12           = 0x00000194
MSR_PENTIUM_4_MCG_R13           = 0x00000195
MSR_PENTIUM_4_MCG_R14           = 0x00000196
MSR_PENTIUM_4_MCG_R15           = 0x00000197
MSR_PENTIUM_4_THERM2_CTL        = 0x0000019D
MSR_PENTIUM_4_IA32_MISC_ENABLE  = 0x000001A0

class MSR_PENTIUM_4_IA32_MISC_ENABLE_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("FastStrings",                         UINT32, 1),
    ("Reserved1",                           UINT32, 1),
    ("FPU",                                 UINT32, 1),
    ("TM1",                                 UINT32, 1),
    ("SplitLockDisable",                    UINT32, 1),
    ("Reserved2",                           UINT32, 1),
    ("ThirdLevelCacheDisable",              UINT32, 1),
    ("PerformanceMonitoring",               UINT32, 1),
    ("SuppressLockEnable",                  UINT32, 1),
    ("PrefetchQueueDisable",                UINT32, 1),
    ("FERR",                                UINT32, 1),
    ("BTS",                                 UINT32, 1),
    ("PEBS",                                UINT32, 1),
    ("TM2",                                 UINT32, 1),
    ("Reserved3",                           UINT32, 4),
    ("MONITOR",                             UINT32, 1),
    ("AdjacentCacheLinePrefetchDisable",    UINT32, 1),
    ("Reserved4",                           UINT32, 2),
    ("LimitCpuidMaxval",                    UINT32, 1),
    ("xTPR_Message_Disable",                UINT32, 1),
    ("L1DataCacheContextMode",              UINT32, 1),
    ("Reserved5",                           UINT32, 7),
    ("Reserved6",                           UINT32, 2),
    ("XD",                                  UINT32, 1),
    ("Reserved7",                           UINT32, 29)
  ]

class MSR_PENTIUM_4_IA32_MISC_ENABLE_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_IA32_MISC_ENABLE_REGISTER_Bits),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_PLATFORM_BRV  = 0x000001A1

class MSR_PENTIUM_4_PLATFORM_BRV_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("Reserved1",   UINT32, 18),
    ("PLATFORM",    UINT32, 1),
    ("Reserved2",   UINT32, 13),
    ("Reserved3",   UINT32, 32)
  ]

class MSR_PENTIUM_4_PLATFORM_BRV_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_PLATFORM_BRV_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_LER_FROM_LIP  = 0x000001D7

MSR_PENTIUM_4_LER_TO_LIP  = 0x000001D8

MSR_PENTIUM_4_DEBUGCTLA  = 0x000001D9

MSR_PENTIUM_4_LASTBRANCH_TOS  = 0x000001DA

MSR_PENTIUM_4_LASTBRANCH_0  = 0x000001DB
MSR_PENTIUM_4_LASTBRANCH_1  = 0x000001DC
MSR_PENTIUM_4_LASTBRANCH_2  = 0x000001DD
MSR_PENTIUM_4_LASTBRANCH_3  = 0x000001DE

MSR_PENTIUM_4_BPU_COUNTER0  = 0x00000300
MSR_PENTIUM_4_BPU_COUNTER1  = 0x00000301
MSR_PENTIUM_4_BPU_COUNTER2  = 0x00000302
MSR_PENTIUM_4_BPU_COUNTER3  = 0x00000303

MSR_PENTIUM_4_MS_COUNTER0  = 0x00000304
MSR_PENTIUM_4_MS_COUNTER1  = 0x00000305
MSR_PENTIUM_4_MS_COUNTER2  = 0x00000306
MSR_PENTIUM_4_MS_COUNTER3  = 0x00000307

MSR_PENTIUM_4_FLAME_COUNTER0  = 0x00000308
MSR_PENTIUM_4_FLAME_COUNTER1  = 0x00000309
MSR_PENTIUM_4_FLAME_COUNTER2  = 0x0000030A
MSR_PENTIUM_4_FLAME_COUNTER3  = 0x0000030B

MSR_PENTIUM_4_IQ_COUNTER0  = 0x0000030C
MSR_PENTIUM_4_IQ_COUNTER1  = 0x0000030D
MSR_PENTIUM_4_IQ_COUNTER2  = 0x0000030E
MSR_PENTIUM_4_IQ_COUNTER3  = 0x0000030F
MSR_PENTIUM_4_IQ_COUNTER4  = 0x00000310
MSR_PENTIUM_4_IQ_COUNTER5  = 0x00000311

MSR_PENTIUM_4_BPU_CCCR0  = 0x00000360
MSR_PENTIUM_4_BPU_CCCR1  = 0x00000361
MSR_PENTIUM_4_BPU_CCCR2  = 0x00000362
MSR_PENTIUM_4_BPU_CCCR3  = 0x00000363

MSR_PENTIUM_4_MS_CCCR0  = 0x00000364
MSR_PENTIUM_4_MS_CCCR1  = 0x00000365
MSR_PENTIUM_4_MS_CCCR2  = 0x00000366
MSR_PENTIUM_4_MS_CCCR3  = 0x00000367

MSR_PENTIUM_4_FLAME_CCCR0  = 0x00000368
MSR_PENTIUM_4_FLAME_CCCR1  = 0x00000369
MSR_PENTIUM_4_FLAME_CCCR2  = 0x0000036A
MSR_PENTIUM_4_FLAME_CCCR3  = 0x0000036B

MSR_PENTIUM_4_IQ_CCCR0  = 0x0000036C
MSR_PENTIUM_4_IQ_CCCR1  = 0x0000036D
MSR_PENTIUM_4_IQ_CCCR2  = 0x0000036E
MSR_PENTIUM_4_IQ_CCCR3  = 0x0000036F
MSR_PENTIUM_4_IQ_CCCR4  = 0x00000370
MSR_PENTIUM_4_IQ_CCCR5  = 0x00000371

MSR_PENTIUM_4_BSU_ESCR0     = 0x000003A0
MSR_PENTIUM_4_BSU_ESCR1     = 0x000003A1
MSR_PENTIUM_4_FSB_ESCR0     = 0x000003A2
MSR_PENTIUM_4_FSB_ESCR1     = 0x000003A3
MSR_PENTIUM_4_FIRM_ESCR0    = 0x000003A4
MSR_PENTIUM_4_FIRM_ESCR1    = 0x000003A5
MSR_PENTIUM_4_FLAME_ESCR0   = 0x000003A6
MSR_PENTIUM_4_FLAME_ESCR1   = 0x000003A7
MSR_PENTIUM_4_DAC_ESCR0     = 0x000003A8
MSR_PENTIUM_4_DAC_ESCR1     = 0x000003A9
MSR_PENTIUM_4_MOB_ESCR0     = 0x000003AA
MSR_PENTIUM_4_MOB_ESCR1     = 0x000003AB
MSR_PENTIUM_4_PMH_ESCR0     = 0x000003AC
MSR_PENTIUM_4_PMH_ESCR1     = 0x000003AD
MSR_PENTIUM_4_SAAT_ESCR0    = 0x000003AE
MSR_PENTIUM_4_SAAT_ESCR1    = 0x000003AF
MSR_PENTIUM_4_U2L_ESCR0     = 0x000003B0
MSR_PENTIUM_4_U2L_ESCR1     = 0x000003B1
MSR_PENTIUM_4_BPU_ESCR0     = 0x000003B2
MSR_PENTIUM_4_BPU_ESCR1     = 0x000003B3
MSR_PENTIUM_4_IS_ESCR0      = 0x000003B4
MSR_PENTIUM_4_IS_ESCR1      = 0x000003B5
MSR_PENTIUM_4_ITLB_ESCR0    = 0x000003B6
MSR_PENTIUM_4_ITLB_ESCR1    = 0x000003B7
MSR_PENTIUM_4_CRU_ESCR0     = 0x000003B8
MSR_PENTIUM_4_CRU_ESCR1     = 0x000003B9
MSR_PENTIUM_4_IQ_ESCR0      = 0x000003BA
MSR_PENTIUM_4_IQ_ESCR1      = 0x000003BB
MSR_PENTIUM_4_RAT_ESCR0     = 0x000003BC
MSR_PENTIUM_4_RAT_ESCR1     = 0x000003BD
MSR_PENTIUM_4_SSU_ESCR0     = 0x000003BE
MSR_PENTIUM_4_MS_ESCR0      = 0x000003C0
MSR_PENTIUM_4_MS_ESCR1      = 0x000003C1
MSR_PENTIUM_4_TBPU_ESCR0    = 0x000003C2
MSR_PENTIUM_4_TBPU_ESCR1    = 0x000003C3
MSR_PENTIUM_4_TC_ESCR0      = 0x000003C4
MSR_PENTIUM_4_TC_ESCR1      = 0x000003C5
MSR_PENTIUM_4_IX_ESCR0      = 0x000003C8
MSR_PENTIUM_4_IX_ESCR1      = 0x000003C9

MSR_PENTIUM_4_ALF_ESCR0  = 0x000003CA
MSR_PENTIUM_4_ALF_ESCR1  = 0x000003CB
MSR_PENTIUM_4_CRU_ESCR2  = 0x000003CC
MSR_PENTIUM_4_CRU_ESCR3  = 0x000003CD
MSR_PENTIUM_4_CRU_ESCR4  = 0x000003E0
MSR_PENTIUM_4_CRU_ESCR5  = 0x000003E1

MSR_PENTIUM_4_TC_PRECISE_EVENT  = 0x000003F0

MSR_PENTIUM_4_PEBS_ENABLE  = 0x000003F1

class MSR_PENTIUM_4_PEBS_ENABLE_REGISTER_Bits (Structure):
  _pack_   = 1
  _fields_ = [
    ("EventNum",            UINT32, 13),
    ("Reserved1",           UINT32, 11),
    ("UOP",                 UINT32, 1),
    ("ENABLE_PEBS_MY_THR",  UINT32, 1),
    ("ENABLE_PEBS_OTH_THR", UINT32, 1),
    ("Reserved2",           UINT32, 5),
    ("Reserved3",           UINT32, 32)
  ]

class MSR_PENTIUM_4_PEBS_ENABLE_REGISTER (Union):
  _pack_   = 1
  _fields_ = [
    ("Bits",    MSR_PENTIUM_4_PEBS_ENABLE_REGISTER_Bits),
    ("Uint32",  UINT32),
    ("Uint64",  UINT64)
  ]

MSR_PENTIUM_4_PEBS_MATRIX_VERT  = 0x000003F2

MSR_PENTIUM_4_LASTBRANCH_0_FROM_IP   = 0x00000680
MSR_PENTIUM_4_LASTBRANCH_1_FROM_IP   = 0x00000681
MSR_PENTIUM_4_LASTBRANCH_2_FROM_IP   = 0x00000682
MSR_PENTIUM_4_LASTBRANCH_3_FROM_IP   = 0x00000683
MSR_PENTIUM_4_LASTBRANCH_4_FROM_IP   = 0x00000684
MSR_PENTIUM_4_LASTBRANCH_5_FROM_IP   = 0x00000685
MSR_PENTIUM_4_LASTBRANCH_6_FROM_IP   = 0x00000686
MSR_PENTIUM_4_LASTBRANCH_7_FROM_IP   = 0x00000687
MSR_PENTIUM_4_LASTBRANCH_8_FROM_IP   = 0x00000688
MSR_PENTIUM_4_LASTBRANCH_9_FROM_IP   = 0x00000689
MSR_PENTIUM_4_LASTBRANCH_10_FROM_IP  = 0x0000068A
MSR_PENTIUM_4_LASTBRANCH_11_FROM_IP  = 0x0000068B
MSR_PENTIUM_4_LASTBRANCH_12_FROM_IP  = 0x0000068C
MSR_PENTIUM_4_LASTBRANCH_13_FROM_IP  = 0x0000068D
MSR_PENTIUM_4_LASTBRANCH_14_FROM_IP  = 0x0000068E
MSR_PENTIUM_4_LASTBRANCH_15_FROM_IP  = 0x0000068F

MSR_PENTIUM_4_LASTBRANCH_0_TO_IP   = 0x000006C0
MSR_PENTIUM_4_LASTBRANCH_1_TO_IP   = 0x000006C1
MSR_PENTIUM_4_LASTBRANCH_2_TO_IP   = 0x000006C2
MSR_PENTIUM_4_LASTBRANCH_3_TO_IP   = 0x000006C3
MSR_PENTIUM_4_LASTBRANCH_4_TO_IP   = 0x000006C4
MSR_PENTIUM_4_LASTBRANCH_5_TO_IP   = 0x000006C5
MSR_PENTIUM_4_LASTBRANCH_6_TO_IP   = 0x000006C6
MSR_PENTIUM_4_LASTBRANCH_7_TO_IP   = 0x000006C7
MSR_PENTIUM_4_LASTBRANCH_8_TO_IP   = 0x000006C8
MSR_PENTIUM_4_LASTBRANCH_9_TO_IP   = 0x000006C9
MSR_PENTIUM_4_LASTBRANCH_10_TO_IP  = 0x000006CA
MSR_PENTIUM_4_LASTBRANCH_11_TO_IP  = 0x000006CB
MSR_PENTIUM_4_LASTBRANCH_12_TO_IP  = 0x000006CC
MSR_PENTIUM_4_LASTBRANCH_13_TO_IP  = 0x000006CD
MSR_PENTIUM_4_LASTBRANCH_14_TO_IP  = 0x000006CE
MSR_PENTIUM_4_LASTBRANCH_15_TO_IP  = 0x000006CF

MSR_PENTIUM_4_IFSB_BUSQ0  = 0x000107CC
MSR_PENTIUM_4_IFSB_BUSQ1  = 0x000107CD
MSR_PENTIUM_4_IFSB_SNPQ0  = 0x000107CE
MSR_PENTIUM_4_IFSB_SNPQ1  = 0x000107CF
MSR_PENTIUM_4_EFSB_DRDY0  = 0x000107D0
MSR_PENTIUM_4_EFSB_DRDY1  = 0x000107D1
MSR_PENTIUM_4_IFSB_CTL6   = 0x000107D2
MSR_PENTIUM_4_IFSB_CNTR7  = 0x000107D3

MSR_PENTIUM_4_EMON_L3_CTR_CTL0  = 0x000107CC
MSR_PENTIUM_4_EMON_L3_CTR_CTL1  = 0x000107CD
MSR_PENTIUM_4_EMON_L3_CTR_CTL2  = 0x000107CE
MSR_PENTIUM_4_EMON_L3_CTR_CTL3  = 0x000107CF
MSR_PENTIUM_4_EMON_L3_CTR_CTL4  = 0x000107D0
MSR_PENTIUM_4_EMON_L3_CTR_CTL5  = 0x000107D1
MSR_PENTIUM_4_EMON_L3_CTR_CTL6  = 0x000107D2
MSR_PENTIUM_4_EMON_L3_CTR_CTL7  = 0x000107D3
